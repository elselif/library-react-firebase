{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { db } from \"../firebase/config\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nexport const useCollection = col => {\n  _s();\n\n  const [documents, setDocuments] = useState(null);\n  useEffect(() => {\n    let ref = collection(db, col);\n    const unsub = onSnapshot(ref, snapshot => {\n      let results = [];\n      snapshot.docs.forEach(doc => {\n        results.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setDocuments(results);\n    }, err => {\n      console.log(err.message);\n    });\n    return () => unsub();\n  }, []);\n  return {\n    documents\n  };\n};\n\n_s(useCollection, \"vg0IVJFRvc6pyuuwF6R/y/XXfhs=\");","map":{"version":3,"names":["useState","useEffect","db","collection","onSnapshot","useCollection","col","documents","setDocuments","ref","unsub","snapshot","results","docs","forEach","doc","push","id","data","err","console","log","message"],"sources":["/Users/elselif/Documents/GitHub/library-react-firebase/src/hooks/useCollection.js"],"sourcesContent":["import { useState,useEffect } from \"react\";\n\nimport {db} from \"../firebase/config\"\nimport { collection,onSnapshot } from \"firebase/firestore\";\n\nexport const useCollection = (col) => {\n\n    const [documents,setDocuments] = useState(null);\n\n    useEffect(() => {\n\n        let ref = collection(db,col);\n\n        const unsub=onSnapshot(ref,(snapshot) => {\n\n            let results = [];\n\n            snapshot.docs.forEach(doc => {\n                results.push({id:doc.id,...doc.data()});\n            })\n\n            setDocuments(results);\n\n        },err=>{\n            console.log(err.message);\n        })\n\n        return () => unsub();\n\n    },[])\n\n    return {documents}\n\n\n}\n\n"],"mappings":";;AAAA,SAASA,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;AAEA,SAAQC,EAAR,QAAiB,oBAAjB;AACA,SAASC,UAAT,EAAoBC,UAApB,QAAsC,oBAAtC;AAEA,OAAO,MAAMC,aAAa,GAAIC,GAAD,IAAS;EAAA;;EAElC,MAAM,CAACC,SAAD,EAAWC,YAAX,IAA2BR,QAAQ,CAAC,IAAD,CAAzC;EAEAC,SAAS,CAAC,MAAM;IAEZ,IAAIQ,GAAG,GAAGN,UAAU,CAACD,EAAD,EAAII,GAAJ,CAApB;IAEA,MAAMI,KAAK,GAACN,UAAU,CAACK,GAAD,EAAME,QAAD,IAAc;MAErC,IAAIC,OAAO,GAAG,EAAd;MAEAD,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsBC,GAAG,IAAI;QACzBH,OAAO,CAACI,IAAR,CAAa;UAACC,EAAE,EAACF,GAAG,CAACE,EAAR;UAAW,GAAGF,GAAG,CAACG,IAAJ;QAAd,CAAb;MACH,CAFD;MAIAV,YAAY,CAACI,OAAD,CAAZ;IAEH,CAVqB,EAUpBO,GAAG,IAAE;MACHC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;IACH,CAZqB,CAAtB;IAcA,OAAO,MAAMZ,KAAK,EAAlB;EAEH,CApBQ,EAoBP,EApBO,CAAT;EAsBA,OAAO;IAACH;EAAD,CAAP;AAGH,CA7BM;;GAAMF,a"},"metadata":{},"sourceType":"module"}